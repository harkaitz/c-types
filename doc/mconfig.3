.\" Automatically generated by Pandoc 2.1.1
.\"
.TH "mconfig" "3" "" "" ""
.hy
.SH NAME
.PP
MCONFIG_INITIALIZER(),mconfig_cleanup(),mconfig_load(),mconfig_get(),
mconfig_set(),mconfig_printf(),mconfig_require()
.SH SYNOPSIS
.nf
\f[C]
#include\ <io/mconfig.h>

mconfig_t\ MCONFIG_INITIALIZER(void);

void\ mconfig_cleanup\ (mconfig_t\ *_m);
bool\ mconfig_search\ \ (mconfig_t\ *_m,\ mconfig_field_t\ **_opt_f,\ const\ char\ _var[]);
bool\ mconfig_load\ \ \ \ (mconfig_t\ *_m,\ const\ char\ _filename[],\ bool\ _no_err_if_not_found);
cstr\ mconfig_get\ \ \ \ \ (mconfig_t\ *_m,\ const\ char\ _var[],\ const\ char\ _def[]);
bool\ mconfig_set\ \ \ \ \ (mconfig_t\ *_m,\ const\ char\ _var[],\ const\ char\ _val[]);
int\ \ mconfig_printf\ \ (mconfig_t\ *_m,\ FILE\ *_f,\ const\ char\ _cfg[],\ ...);
bool\ mconfig_require\ (mconfig_t\ *_m,\ ...);
\f[]
.fi
.SH DESCRIPTION
.PP
This functions help reading a configuration file with lines formated the
following way.
.IP
.nf
\f[C]
VARIABLE_NAME\ \ \ \ \ VALUE
#\ COMMENT
\f[]
.fi
.PP
You can initialize the mconfig_t structure by zeroing it.
After the program finishes you can call \f[I]mconfig_cleanup()\f[].
.PP
Load a file with \f[I]mconfig_load()\f[].
If a configuration was set previously then \f[I]mconfig_load()\f[] will
ignore it.
This means you should call it the following order.
.IP
.nf
\f[C]
mconfig_load(&m,\ "~/.my\-program.cfg"\ \ ,\ true);
mconfig_load(&m,\ "/etc/my\-program.cfg",\ true);
\f[]
.fi
.PP
You can get a configuration variable with \f[I]mconfig_get()\f[] and
change/set one with \f[I]mconfig_set()\f[].
When changing the old value will be kept, so do not set ovewrite values
many times, that would be a leak.
.PP
You can write a configuration file with \f[I]mconfig_printf()\f[].
.PP
You can require some configuration variables to be set with
\f[I]mconfig_require()\f[]:
.IP
.nf
\f[C]
mconfig_require(&m,\ "VAR1",\ "VAR2",\ NULL);
\f[]
.fi
.SH RETURN VALUE
.PP
True on success, false on error.
See \f[I]errmsg(3)\f[].
.SH COLLABORATING
.PP
You can collaborate with this project either by making bug reports,
making pull requests or making a donation.
.IP \[bu] 2
Bug reports, pull requests: Harkaitz Agirre <harkaitz.aguirre@gmail.com>
.IP \[bu] 2
\f[I]Bitcoin\f[] : \f[I]1C1ZzDje7vHhF23mxqfcACE8QD4nqxywiV\f[]
.IP \[bu] 2
\f[I]Binance\f[] : \f[I]bnb194ay2cy83jjp644hdz8vjgjxrj5nmmfkngfnul\f[]
.IP \[bu] 2
\f[I]Monero\f[] :
\f[I]88JP1c94kDEbyddN4NGU574vwXHB6r3FqcFX9twmxBkGNSnf64c5wjE89YaRVUk7vBbdnecWSXJmRhFWUcLcXUTFJVddZti\f[]
